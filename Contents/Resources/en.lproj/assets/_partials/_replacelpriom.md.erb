<%= md_links %>
<%= md_images %>

In this step, you’ll need to [download balthisarfiles.sit][1] and then unstuff
it in a location that’s known and accessible to you. You’ll be using it very
shortly, below.
{: .note .callout}

Mac OS X depends on a file called <samp>LPRIOM.plugin</samp> in order for LPR
printing to work. It’s located at: <samp>/System/Library/Printers/IOMs/</samp>

It’s been determined that the upgrade from Mac OS X 10.04 to 10.1 (and
subsequently 10.1.1 through 10.1.5) has replaced this file with a newer
version that doesn’t allow LPD printing to work properly. Hence, our first
goal is to replace this file with an older version “rescued” from Mac OS X
10.04. Note: this file is actually a Mac OS X “package,” so it will appear as
a directory in the terminal, and must be treated as such.

Keep a backup of this original file somewhere. Since the previous versions of
this guide was put out, Apple has released updates that puts Mac OS X at
10.1.5. These recent updates still breaks proper LPR operation, and you’ll
need to revert back to this 10.04 version again any time Apple keeps shipping
a faulty file. Whenever you perform an OS upgrade in the future, and printing
stops working, try replacing this file again.
{: .tip .callout}

It’s possible to skip this step. Check out [localhost
printing][localhostprinting] in this guide. I <em>do</em> recommend replacing
the <samp>LPRIOM.plugin</samp> until you have your printer up and running –
it’s one less thing to go wrong when troubleshooting. Then, when you know
things work, you can revert to the original <samp>LPRIOM.plugin</samp> and use
localhost printing.
{: .tip .callout}

To perform the surgical replacement, [open a terminal][startterminal] window,
and [<kbd>su</kbd> to <kbd>root</kbd>][becomeroot], then type the following:

cd /System/Library/Printers/IOMs
: …puts you in the correct directory.

mv LPRIOM.plugin ~/originalLPRIOM.plugin
: …moves and renames the 10.1 file so we can keep it as a backup. Using
  the <kbd>~/</kbd> syntax means it will go to your home
  directory, but it’s your backup; put it where you want.
  If you simply rename it in place, your Print Center will have
  <em>two</em> “LPR Printers Using IP” in the Add Printer options, which
  is not what we want.

cp -R
: …to copy the file, where <samp>…path…</samp> designates the
  complete directory path to wherever you unpacked the file.
{: .width50 .codeAndDescription}


You need to know the path to the file you’re copying. For example, had I
unstuffed it in my own “Downloads” folder, the <samp>…path…</samp> I would use
would be <samp>~jderry/Downloads/balthisarfiles/LPRIOM</samp>.
{: .note .callout}

That’s it. You will now be using the old and not-improved version of the
LPRIOM.plugin file. You may want to restart the computer, just to make sure the OS
knows about the change. Better safe than sorry, right?


 [1]: https://www.balthisar.com/files/balthisarfiles.sit
